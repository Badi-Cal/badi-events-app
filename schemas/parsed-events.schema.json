{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/Badi-Cal/badi-events-app/schemas/parsed-events.schema.json",
  "title": "ParsedEvent",
  "description": "A product in the catalog",
  "type": "object",
  "properties": {
    "byAllDayStartDate": {
      "$ref": "#/$defs/dateToEventIdMap"
    },
    "byAllDayObject": {
      "$ref": "#/$defs/dateToEventIdMap"
    },
    "byStartDate": {
      "$ref": "#/$defs/dateToEventIdMap"
    },
    "byId": {
      "type": "object",
      "patternProperties": {
        "^[a-v0-9]{5,1024}_(19|20)[0-9]{2}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])T(0[0-9]|1[0-9]|2[0-3])[0-5][0-9][0-5][0-9]Z$": {
          "$ref": "https://github.com/Badi-Cal/badi-events-app/schemas/event.schema.json"
        }
      }
    },
    "byMultiDay": {
      "$ref": "#/$defs/dateToEventIdMap"
    },
    "byNextDay": {
      "$ref": "#/$defs/dateToEventIdMap"
    },
    "byContinuedMultiDay": {
      "$ref": "#/$defs/datetimeToEventIdMap"
    },
    "byContinuedNextDay": {
      "$ref": "#/$defs/datetimeToEventIdMap"
    }
  },
  "$defs": {
    "dateToEventIdMap": {
      "type": "object",
      "patternProperties": {
        "^(19|20)[0-9]{2}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/eventId"
          }
        }
      }
    },
    "datetimeToEventIdMap": {
      "type": "object",
      "patternProperties": {
        "^(19|20)[0-9]{2}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9].[0-9]{3}Z$": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/eventId"
          }
        }
      }
    },
    "eventId": {
      "description": "An event identifier as specified by the Google Calendar API",
      "type": "string",
      "pattern": "^[a-v0-9]{5,1024}_(19|20)[0-9]{2}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])T(0[0-9]|1[0-9]|2[0-3])[0-5][0-9][0-5][0-9]Z$"
    }
  }
}
